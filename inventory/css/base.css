@font-face {
  font-family: 'LEMONMILK-Regular';
  src: url('../../assets/LEMONMILK-Regular.otf') format('opentype');
}
@font-face {
  font-family: 'American';
  src: url('../../assets/American Captain.otf') format('opentype');
}

:root {
  --bg: #eee;
  --text: #000;
  --accent: #ce1f26;
}

* { box-sizing: border-box; margin: 0; padding: 0; }
body {
  font-family: 'LEMONMILK-Regular', sans-serif;
  background-color: var(--bg);
  color: var(--text);
  overflow-x: hidden;
  max-width: 100vw;
}

.cursor {
  position: fixed;
  width: 12px;
  height: 12px;
  border-radius: 50%;
  background: #fff;
  pointer-events: none;
  mix-blend-mode: difference;
  transition: transform 0.05s ease;
  z-index: 100;
}

/* HEADER */
.header {background-color: transparent; position: fixed; top: 0; left: 0; display: flex; align-items: center; justify-content: center; width: 100vw; height: 300px; border-bottom: 2px solid transparent; transition: height 0.3s ease; overflow: hidden;}
.header {position: sticky; top: 0; z-index: 100;}
.header.active {height: 150px; border-bottom: 2px solid #000;}

.skull {position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 160px; height: 160px; z-index: 10; display: flex; align-items: center; justify-content: center; cursor: pointer;}
.skullcen {position: absolute; width: 100%; height: auto; z-index: 3;}
.VMwrap {position: absolute; inset: 0; display: flex; align-items: center; justify-content: center; z-index: 2; pointer-events: none;}
.VMcen {width: 140%; height: auto;}
.flameI, .flameII {position: absolute; top: 64%; width: 60%; height: auto; transform: translateY(-50%); pointer-events: none; opacity: 0; transition: opacity 0.3s ease; z-index: 4;}
.flameI {left: -48%; transform: translateY(-50%) rotate(-90deg);}
.flameII {right: -48%; transform: translateY(-50%) rotate(90deg);}
.skullcen:hover ~ .flameI, .skullcen:hover ~ .flameII {opacity: 1;}

.menu {background-color: #CE1F26; display: flex; justify-content: space-around; align-items: center; width: 100%; height: 100%; z-index: 5; overflow: hidden; opacity: 0; transition: transform .5s ease-in-out, opacity .5s ease;}
.menu::before {content: ''; position: absolute; top: -100%; left: -50%; width: 300%; height: 300%; background-image: url(../../assets/noiseII.png); opacity: 1; animation: grain 3s steps(10) infinite; z-index: -1;}
@keyframes grain {0%,100% {transform: translate(0,0);} 10% {transform: translate(-5%,-10%);} 20% {transform: translate(-15%,5%);} 30% {transform: translate(7%,-25%);} 40% {transform: translate(-5%,25%);} 50% {transform: translate(-15%,10%);} 60% {transform: translate(15%,0%);} 70% {transform: translate(0%,15%);} 80% {transform: translate(3%,35%);} 90% {transform: translate(-10%,10%);}}
.header.active .menu {opacity: 1;}
.logo {position: relative; font-family: 'LEMONMILK-Regular', 'American', sans-serif; font-size: 2rem; font-weight: bolder; color: #fff; text-shadow: -2px -2px 0 black, 2px -2px 0 black, -2px  2px 0 black, 2px  2px 0 black; letter-spacing: 0px; text-decoration: none; transition: 0.3s;}
.logo:hover {color: #000; text-shadow: -1px -1px 0 white, 1px -1px 0 white, -1px  1px 0 white, 1px  1px 0 white;}
.logo {position: relative; z-index: 1;}
.logo::before {content: ''; position: absolute; z-index: -1; top: 33%; bottom: 33%; left: -0.25em; right: -0.25em; background-color: #000; transform-origin: center right; transform: scaleX(0); transition: transform 0.2s ease-in-out;}
.logo:hover::before {transform: scaleX(1); transform-origin: center left;}
.current {color: #000; text-shadow: -1px -1px 0 white, 1px -1px 0 white, -1px  1px 0 white, 1px  1px 0 white; pointer-events: none; text-decoration: line-through;}
.ozero {opacity: 0;}
.mob-menu {display: none !important;}
.mb {visibility: hidden !important;}

/* ------------------ MOBILE HEADER ------------------ */
@media (max-width: 1920px) {
  .header.active {height: 150px;}
  .skull { width: 150px; height: 150px;}
  .logo { font-size: 1.5rem; }
}
@media (max-width: 1280px) {
  .header.active {height: 100px;}
  .skull { width: 100px; height: 100px;}
  .logo { font-size: 1rem; }
}
@media (max-width: 768px) {
  .cursor {display: none !important;}
  .header {position: sticky; height: 200px;}
  .header.active {height: 150px; border-bottom: 2px solid transparent;}
  .skull {width: 100px; height: 100px;}
  .menu {display: none !important;}
  .current {-webkit-text-stroke: 0px transparent;}
}

/* ------------------ MOBILE MENU ------------------ */
.mb {color: #fff; background-color: #000; display: flex; justify-content: center; align-items: center;  text-align: center; position: fixed; top: 50%; right: -1%; transform: translateY(-50%); width: 10%; height: 10%; z-index:101; overflow: hidden; transition: transform 1s ease-in-out;}
.mb span {transform: rotate(-90deg);}
.mb span::after { content: ""; position: absolute; left: -10%; right: -10%; top: 50%; height: 2px; background: white; transform: scaleX(0); transform-origin: center; transition: transform 0.3s ease-in-out; } 
.mb.open span::after { transform: scaleX(1); }
.mob-menu {background-color: #CE1F26; display: flex; flex-direction: column; justify-content: center; align-items: center;  text-align: center; position: fixed; top: 50%; left: 100%; transform: translateY(-50%); width: 80%; height: 60%; z-index:102; overflow: hidden; border: 4px solid black; transition: transform .5s ease-in-out;}
.mob-menu::before {content: ''; position: absolute; top: -100%; left: -50%; width: 300%; height: 300%; background-image: url(../../assets/noiseII.png); opacity: 1; animation: grain 3s steps(10) infinite; z-index: -1;}
@keyframes grain {0%,100% {transform: translate(0,0);} 10% {transform: translate(-5%,-10%);} 20% {transform: translate(-15%,5%);} 30% {transform: translate(7%,-25%);} 40% {transform: translate(-5%,25%);} 50% {transform: translate(-15%,10%);} 60% {transform: translate(15%,0%);} 70% {transform: translate(0%,15%);} 80% {transform: translate(3%,35%);} 90% {transform: translate(-10%,10%);}}
.mob-menu-inner { display: flex; flex-direction: column; justify-content: center; align-items: center; height: 100%; /* fills mob-menu container */ }
.mob-logo {position: relative; font-family: 'LEMONMILK-Regular', 'American', sans-serif; font-size: 2rem; font-weight: bolder; color: #fff; text-shadow: -2px -2px 0 black, 2px -2px 0 black, -2px  2px 0 black, 2px  2px 0 black; letter-spacing: 2px; text-decoration: none; transition: 0.3s;}
.mob-logo:hover {color: #000; text-shadow: -1px -1px 0 white, 1px -1px 0 white, -1px  1px 0 white, 1px  1px 0 white;}
.mob-logo {position: relative; z-index: 1;}
@keyframes floatLinks { 0%,100% { transform: translateY(0); } 50% { transform: translateY(-6px); } }
.mob-logo::before {content: ''; position: absolute; z-index: -1; top: 33%; bottom: 33%; left: -0.25em; right: -0.25em; background-color: #000; transform-origin: center right; transform: scaleX(0); transition: transform 0.2s ease-in-out;}
.mob-logo:hover::before {transform: scaleX(1); transform-origin: center left;}
.crnt {color: #000; text-shadow: -1px -1px 0 white, 1px -1px 0 white, -1px  1px 0 white, 1px  1px 0 white; pointer-events: none; text-decoration: line-through;}
@media (max-width: 768px) {
  .mob-menu {display: block !important;}
  .mb {visibility: visible !important;}
}
@media (max-width: 768px) and (max-height: 800px) {
  .mob-logo { font-size: 1.5rem; }
}

/* CARS */

.cars-container {
  width: 100%;
  display: flex;
  justify-content: center;
  align-items: center;
  flex-direction: initial;
  flex-wrap: wrap;
  gap: 1rem;
  padding: 2rem 1vw;
  justify-items: center;
}

.car-card {
  position: relative; /* keeps ::before positioned relative to the card */
  background-color: #fff;
  border: 2px solid transparent;
  width: 19%;
  display: flex;
  flex-direction: column;
  transition: transform 0.3s ease, box-shadow 0.3s ease, background-color 0.3s ease;
  overflow: hidden;
  z-index: 1;
}
.car-card::before { content: ''; position: absolute; top: -100%; left: -50%; width: 300%; height: 300%; background-image: url(../../assets/noiseII.png); opacity: 0; animation: grain 3s steps(10) infinite; transition: opacity 300ms ease; /* smooth fade in/out */ z-index: 0; pointer-events: none; }
@keyframes grain { 0%, 100% { transform: translate(0, 0); } 10% { transform: translate(-5%, -10%); } 20% { transform: translate(-15%, 5%); } 30% { transform: translate(7%, -25%); } 40% { transform: translate(-5%, 25%); } 50% { transform: translate(-15%, 10%); } 60% { transform: translate(15%, 0%); } 70% { transform: translate(0%, 15%); } 80% { transform: translate(3%, 35%); } 90% { transform: translate(-10%, 10%); } }
.car-card > * {
  position: relative;
  z-index: 1;
}
.car-card:hover {
  background-color: #ce1f26;
  border: 2px solid #000;
  transform: translateY(-5px);
  box-shadow: 0 8px 20px rgba(0,0,0,0.15);
  z-index: 2;
}
/* CORRECT selector: target the hovered card's pseudo-element directly */
.car-card:hover::before {
  opacity: 1;
}
.car-card:hover, .car-card:hover .car-title {color: #fff;}
.car-card:hover .car-desc, .car-card:hover .monthly{color: #ddd;}
.car-card:hover .details-btn {background-color: #000;}
/*__________________________________________________*/
/*
.hov-bg { position: absolute; inset: 0; z-index: -1; pointer-events: none; }
*/
/* Noise Background Animation 
body::before { content: ''; position: fixed; top: -100%; left: -50%; width: 300%; height: 300%; background-image: url(../../assets/noiseII.png); opacity: 1; animation: grain 3s steps(10) infinite; }
@keyframes grain { 0%, 100% { transform: translate(0, 0); } 10% { transform: translate(-5%, -10%); } 20% { transform: translate(-15%, 5%); } 30% { transform: translate(7%, -25%); } 40% { transform: translate(-5%, 25%); } 50% { transform: translate(-15%, 10%); } 60% { transform: translate(15%, 0%); } 70% { transform: translate(0%, 15%); } 80% { transform: translate(3%, 35%); } 90% { transform: translate(-10%, 10%); } }
*/
/* base styles for both lines 
.hov-bg::before,
.hov-bg::after {
  content: '';
  position: absolute;
  top: 66%;
  left: 50%;
  width: 80%;    
  height: 20%;   
  background-color: #ce1f26;
  border: 2px solid #000;
  transform: translate(-50%, -50%) rotate(var(--angle)) scaleX(0);
  transform-origin: center;
  transition: transform 0.2s ease-in-out;
  z-index: 0;
  opacity: 1;
}
.hov-bg::before { --angle: 55deg; }
.hov-bg::after  { --angle: -35deg; }
*/
/*
.car-card:hover .hov-bg::before,
.car-card:hover .hov-bg::after {
  transform: translate(-50%, -70%) rotate(var(--angle)) scaleX(1);
}
*/
/*__________________________________________________*/

.car-img {
  width: 100%;
  height: 250px;
  background-size: cover;
  background-position: center;
  border: 2px solid #000;
}

.car-info {
  padding: 1.5rem;
  display: flex;
  flex-direction: column;
  gap: 0.6rem;
}

.tag {
  font-size: 0.8rem;
  color: #000;
  background: #FFFF00;
  padding: 0.3rem 0.7rem;
  letter-spacing: 1px;
  width: fit-content;
}

.car-title {
  font-size: 1.4rem;
  color: var(--text);
}

.car-desc {
  font-size: 0.9rem;
  line-height: 1.5;
  color: #333;
}

.car-price {
  display: flex;
  justify-content: space-between;
  align-items: baseline;
  margin-top: 0.8rem;
}

.price {
  font-size: 1.3rem;
  font-weight: 700;
}

.monthly {
  font-size: 0.9rem;
  color: #666;
}

.details-btn {
  margin-top: 1rem;
  display: inline-block;
  text-align: center;
  background: var(--accent);
  color: #fff;
  padding: 0.6rem 1.2rem;
  text-decoration: none;
  font-size: 0.9rem;
  border: 2px solid transparent;
  transition: 0.3s;
}
.details-btn:hover {
  background: transparent;
  border: 2px solid #fff;
}

/* === SEARCH + FILTER === */
.controls {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 1rem;
  padding: 1rem 5vw;
  /*border-bottom: 2px solid #000;*/
}
.search-bar input {
  font-family: 'LEMONMILK-Regular', sans-serif;
  padding: 0.8rem 1rem;
  border: 1px solid #000;
  width: 500px;
  font-size: 1rem;
  outline: none;
}
.filter-toggle {
  font-family: 'LEMONMILK-Regular', sans-serif;
  letter-spacing: 2px;
  background: #000;
  color: #fff;
  border: none;
  padding: 0.8rem 1rem;
  cursor: pointer;
  transition: 0.3s;
  border: 1px solid #000;
}
.filter-toggle:hover {
  background: #fff;
  color: #000;
  border: 1px solid #000;
}

/* FILTER PANEL */
.filter-panel {
  position: fixed;
  top: 0;
  right: -350px;
  width: 300px;
  height: 100vh;
  background: #fff;
  border-left: 2px solid #000;
  box-shadow: -4px 0 20px rgba(0,0,0,0.1);
  transition: right 0.4s ease;
  padding: 2rem;
  z-index: 999;
}
.filter-panel.active {
  right: 0;
}
.filter-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 1.5rem;
}
.close-filter {
  background: none;
  border: none;
  font-size: 1.4rem;
  cursor: pointer;
}
.filter-group {
  display: flex;
  flex-direction: column;
  margin-bottom: 1rem;
}
.filter-group label {
  font-size: 0.9rem;
  margin-bottom: 0.4rem;
}
.filter-group select {
  font-family: 'LEMONMILK-Regular', sans-serif;
  font-size: 0.7rem;
  padding: 0.6rem;
  border: 1px solid #000;
}
.apply-filter {
  font-family: 'LEMONMILK-Regular', sans-serif;
  width: 100%;
  background: var(--accent);
  color: #fff;
  border: none;
  padding: 0.8rem;
  cursor: pointer;
  transition: 0.3s;
}
.apply-filter:hover {
  background: #a8181f;
}

.footer {
  text-align: center;
  padding: 2rem 0;
  border-top: 2px solid #000;
  font-size: 0.9rem;
}
@media (max-width: 1920px) {
  .car-card { width: 30%; }
}

@media (max-width: 768px) {
  .search-bar input { width: 200px; font-size: .6rem;}
  .filter-toggle { letter-spacing: 0px; padding: 0.5rem .8rem; }
  .cars-container{ display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: initial;
    flex-wrap: wrap;
    gap: 1rem;
    padding: 2rem 1vw;
    justify-items: center;
  }
  .car-card { width: 90%; }
}

/* Loader CSS */
.loading{display:flex;align-items:center;justify-content:center;position:fixed;top:0;right:0;bottom:0;left:0;z-index:110;background:#CE1F26;opacity:0;transition:0.5s;}
.loading::before {content: ''; position: absolute; top: -100%; left: -50%; width: 300%; height: 300%; background-image: url(../../assets/noiseII.png); opacity: 1; animation: grain 3s steps(10) infinite; z-index: -1;}
@keyframes grain {0%,100% {transform: translate(0,0);} 10% {transform: translate(-5%,-10%);} 20% {transform: translate(-15%,5%);} 30% {transform: translate(7%,-25%);} 40% {transform: translate(-5%,25%);} 50% {transform: translate(-15%,10%);} 60% {transform: translate(15%,0%);} 70% {transform: translate(0%,15%);} 80% {transform: translate(3%,35%);} 90% {transform: translate(-10%,10%);}}
.before-load .loading{opacity:1;}
.load-skull {position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 160px; height: 160px; z-index: 10; display: flex; align-items: center; justify-content: center; cursor: pointer; pointer-events: none;}
.load-skullcen {position: absolute; width: 100%; height: auto; z-index: 3;}
.load-VMwrap {position: absolute; inset: 0; display: flex; align-items: center; justify-content: center; z-index: 2; pointer-events: none;}
.load-VMcen {width: 140%; height: auto;}
.load-flameI, .load-flameII {position: absolute; top: 64%; width: 60%; height: auto; transform: translateY(-50%); pointer-events: none; opacity: 1; transition: opacity 0.3s ease; z-index: 4;}
.load-flameI {left: -48%; transform: translateY(-50%) rotate(-90deg);}
.load-flameII {right: -48%; transform: translateY(-50%) rotate(90deg);}
.load-VMwrap { animation: spin 5s linear infinite; }
@keyframes spin { from { transform: rotate(0deg); } to   { transform: rotate(-360deg); } }
